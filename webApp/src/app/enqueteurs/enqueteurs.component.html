
<div class="add-button-container">
    <button class="add-button" (click)="toggleForm()">
        <i class="fas fa-plus"></i>
        Ajouter
    </button>
</div>

<div *ngIf="showForm" class="card-container">
    <div class="card">
       
          <button type="cancel" (click)="closeForm()"> <i class="fas fa-times"></i></button>
         
        <form >
        <label for="name">Nom :</label>
        <input type="text" id="name" name="name" placeholder="..." [(ngModel)]="name" required>
        <br>
        <label for="email">Email :</label>
        <input type="email" id="email" name="email" [(ngModel)]="email" required>
        <br>
        <label for="telephone">Numéro de téléphone:</label>
        <input type="telephone" id="telephone" name="telephone" [(ngModel)]="telephone" required>
        <br>
        <label for="role">Rôle :</label>
        <select id="role" name="role" [(ngModel)]="role" required>
            <option value="Admin">Admin</option>
            <option value="Enqueteur">Enqueteur</option>
        </select>
        <br>
        <button type="submit" (click)="submitForm()" >Ajouter</button>
        </form>
        
  </div>
</div>

  <table class="user-table">
    <thead>
      <tr>
        
        <th>Nom complet</th>
        <th>Email</th>
        <th>Numéro de téléphone</th>
        <th>Role</th>
        
        <!--<th>Zone</th><td>{{ user.zone }}</td> -->
        
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
        <tr *ngFor="let user of users">
          <td>{{ user.name }}</td> 
          <td>{{ user.email }}</td>
          <td>{{ user.telephone }}</td>
          <td>{{ user.role }}</td>
          
          <td>
            <button class="modifier-btn" (click)="updateUser(user)" ><i class="fas fa-edit"></i> </button>
            <button  class="supprimer-btn"(click)="deleteUser(user._id)"><i class="fas fa-trash-alt"></i> </button>
      
          </td>
        </tr>
      </tbody>
      
  </table>

  <div *ngIf="isUpdateFormVisible" class="card-container">
    <div class="card">
      <button type="cancel" (click)="closeForm()"> <i class="fas fa-times"></i></button>
    <form (submit)="submitUpdateForm()">
      <label for="name">Nom :</label>
      <input type="text" id="name" name="name" [(ngModel)]="selectedUser.name" required>
      <br>
      <label for="email">Email :</label>
      <input type="email" id="email" name="email" [(ngModel)]="selectedUser.email" required>
      <br>
      <label for="telephone">Numéro de téléphone:</label>
      <input type="telephone" id="telephone" name="telephone" [(ngModel)]="selectedUser.telephone" required>
      <br>
      <label for="role">Rôle :</label>
      <select id="role" name="role" [(ngModel)]="selectedUser.role" required>
        <option value="Admin">Admin</option>
        <option value="Enqueteur">Enqueteur</option>
      </select>
      <br>
      <button type="submit">Enregistrer les modifications</button>
    </form>
</div>
</div>